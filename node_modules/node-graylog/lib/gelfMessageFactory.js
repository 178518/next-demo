"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var gelfMessage_1 = require("./gelfMessage");
exports.LEVEL_MAPPING = {
    EMERGENCY: 0,
    ALERT: 1,
    CRITICAL: 2,
    ERROR: 3,
    WARN: 4,
    NOTICE: 5,
    INFO: 6,
    DEBUG: 7
};
var GelfMessageFactory = /** @class */ (function () {
    function GelfMessageFactory(_a) {
        var file = _a.file, app = _a.app, logger = _a.logger, marker = _a.marker, thread = _a.thread, requestUri = _a.requestUri, host = _a.host, env = _a.env, cluster = _a.cluster;
        this.level = exports.LEVEL_MAPPING.INFO;
        this.file = file;
        this.app = app;
        this.logger = logger;
        this.marker = marker;
        this.thread = thread;
        this.requestUri = requestUri;
        this.host = host;
        this.env = env;
        this.cluster = cluster;
    }
    GelfMessageFactory.prototype.createGelfMessage = function (msg, level) {
        return new gelfMessage_1.default()
            .setFile(this.file)
            .setLevel(level !== undefined ? exports.LEVEL_MAPPING[level.toUpperCase()] : this.level)
            .setApp(this.app)
            .setHost(this.host)
            .setLogger(this.logger)
            .setMarker(this.marker)
            .setThread(this.thread)
            .setEnv(this.env)
            .setCluster(this.cluster)
            .setRequestUri(this.requestUri)
            .setShortMessage((msg.length > 128) ? msg.substr(0, 1420 * 128) : msg)
            .toString();
    };
    return GelfMessageFactory;
}());
exports.default = GelfMessageFactory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VsZk1lc3NhZ2VGYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2dlbGZNZXNzYWdlRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUF3QztBQUUzQixRQUFBLGFBQWEsR0FBNkI7SUFDckQsU0FBUyxFQUFFLENBQUM7SUFDWixLQUFLLEVBQUUsQ0FBQztJQUNSLFFBQVEsRUFBRSxDQUFDO0lBQ1gsS0FBSyxFQUFFLENBQUM7SUFDUixJQUFJLEVBQUUsQ0FBQztJQUNQLE1BQU0sRUFBRSxDQUFDO0lBQ1QsSUFBSSxFQUFFLENBQUM7SUFDUCxLQUFLLEVBQUUsQ0FBQztDQUNULENBQUM7QUFjRjtJQVlFLDRCQUFZLEVBQWlGO1lBQWhGLGNBQUksRUFBRSxZQUFHLEVBQUUsa0JBQU0sRUFBRSxrQkFBTSxFQUFFLGtCQUFNLEVBQUUsMEJBQVUsRUFBRSxjQUFJLEVBQUUsWUFBRyxFQUFFLG9CQUFPO1FBUHRFLFVBQUssR0FBWSxxQkFBYSxDQUFDLElBQUksQ0FBQztRQVExQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDekIsQ0FBQztJQUVELDhDQUFpQixHQUFqQixVQUFrQixHQUFXLEVBQUUsS0FBYTtRQUMxQyxPQUFPLElBQUkscUJBQVcsRUFBRTthQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUNsQixRQUFRLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMscUJBQWEsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQzthQUMvRSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQzthQUNoQixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUNsQixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUN0QixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUN0QixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUN0QixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQzthQUNoQixVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUN4QixhQUFhLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQzthQUM5QixlQUFlLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQzthQUNyRSxRQUFRLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBQ0gseUJBQUM7QUFBRCxDQUFDLEFBdkNELElBdUNDIn0=